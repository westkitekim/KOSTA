<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>step5 html form checkbox와 Servlet연동</title>
</head>
<body>
	<!-- checkbox에 하나이상 체크를 하지 않으면 alert으로 메뉴를 선택하세요 후 
		 전송시키지 않는다 -> javascript로 구현해본다 
		 
		 DOM
		 document.getElementsByName(name) -> javascript array 로 반환 
		 for loop 안의 if문으로 checked 속성을 이용해 하나 이상 체크 되어있는 지를 판단
		 하나 이상 체크 되지 않았으면 if문으로 메뉴를 선택하세요
	-->
		 
	<script type="text/javascript">
		function checkForm() {
			let flag = false;
			let m = document.getElementsByName("menu");
			for(let i = 0; i < m.length; i++) {
				if(m[i].checked)
					flag = true;
					break;//1개라도 존재하면 되기 때문에 반복문을 계속 진행할 필요없음
			}
			if(flag == false) {//하나 이상 체크가 되어 있지 않으면
				alert("메뉴를 선택하세요");
				return false;//false를 리턴해서 전송시키지 않는다
			}
		}
	</script>
	<!-- 텍스트가 넘어가는 것이 아니라 value가 들어간다 -->		 
	<form action="CheckboxServlet" method="get" onsubmit="return checkForm()">
		<input type="checkbox" name="menu" value="치킨">치킨<br>
		<input type="checkbox" name="menu" value="피자">피자<br>
		<input type="checkbox" name="menu" value="맥주">맥주<br>
	<button type="submit">주문하기</button><!-- button태그는 명시안해도 submit -->
	</form>
	
	<!-- 
			치킨과 맥주를 체크하고 주문하기를 누르면 
			서블릿에서는 
			치킨 맥주 주문완료
	 -->
</body>
</html>